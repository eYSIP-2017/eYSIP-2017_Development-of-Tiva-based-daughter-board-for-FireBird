\documentclass[a4paper,10pt,oneside]{article}
\usepackage[top=2cm,bottom=2cm,left=1cm,right=1cm]{geometry}
%\usepackage{fontspec}
\usepackage[utf8]{inputenc}
\usepackage{hyperref}
\usepackage{enumitem}
\usepackage{changepage}
\usepackage[table]{xcolor}
\usepackage{graphicx}
\usepackage{fancyhdr}
\pagestyle{fancy}
\usepackage{titlesec}

\hypersetup{
	colorlinks=true,      
	urlcolor=magenta,
	linkcolor  = black
}

\title{\Huge{\textbf{Tiva Based Daughter Board for Firebird V \\ Hardware And Software Manual.}}}

\author{\textbf{ eRTS Lab IIT Bombay}}

\rhead{Manual for Tiva Based Daughter Board for Firebird V.}
\lfoot{eRTS Lab IIT Bombay}

\renewcommand*\contentsname{\Huge \textbf{Table Of Content}}

\setcounter{secnumdepth}{4}

\titleformat{\paragraph}
{\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}
\titlespacing*{\paragraph}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

\begin{document}
	\large
	\maketitle
	\newpage
	\section{\Huge{\textbf{Credits}}}
	\textbf{\\\\ Version 1.0\\\date{\today}}% Right allign
	\\
	\\
	\\
	\\
	{\large{\textbf{Documentation Author(Alphabetical Order):}
			\begin{enumerate}
			\item Ayush Gaurav, Intern eYSIP 2017
			\item Nagesh K,  Intern eYSIP 2017
	\end{enumerate}
	\textbf{Credits(Alphabetical Order):}
		\begin{enumerate}
			\item Prof Kavi Arya, CSE IIT Bombay
			\item Nex Robotics Pvt. Ltd.
			\item Piyush Manavar, Team e-Yantra
	\end{enumerate}}
	\newpage
	\section{\Huge{\textbf{Notice}}}
	{\large The contents of this manual are subject to change without notice. All efforts have been made to
	ensure the accuracy of contents in this manual. However, should any errors be detected, e-yantra welcomes your corrections. You can send us your queries / suggestions at
	\href{mailto:helpdesk@eyantra.org}{Contact Us}\\}
	\newpage
	\tableofcontents
	\newpage 
	\section{\Huge\textbf{Introduction}}
	\section{\Huge\textbf{Tiva Based Daughter Board}}
		{There are two daughter boards one with the launchpad and other one with the Arm Cortex M4 based uC. Almost all the specification are same unless mentioned otherwise.\\}
		\subsection{{\huge \textbf{Technical Specification}}\\}
			{\textbf{Microcontroller:\\}
			TM4C123gh6pm (ARM architecture based Microcontroller)\\ To know more about the microcontroller please refer to \href{www.ti.com/lit/gpn/tm4c123gh6pm}{datasheet}.\\ \\}
			{\textbf{Sensors:}\\
			Three white line sensors (extendable to 7)\\
			Five Sharp GP2Y0A02YK IR range sensor (One in default configuration)\\
			Eight analog IR proximity sensors\\
			Two position encoders\\\\} 
			\textbf{Indicators:\\}
			{2 x 16 Characters LCD\\
			Buzzer\\\\}
			\textbf{Communication:\\}
			{USB Communication\\
			Wireless ZigBee Communication (2.4GHZ) (if XBee wireless module is installed)\\
			Bluetooth communication(Can be interfaced on external UART0 available on the board)\\
			Simplex infrared communication (From infrared remote to robot)\\
			I2C Communication \\\\}
			\textbf{Battery Life:\\}
			{2 Hours, while motors are operational at 75\% of time\\\\}
			\textbf{Locomotion:\\}
			{Two DC geared motors in differential drive configuration and caster wheel at front as support\\
			Top Speed: 24 cm / second\\
			Wheel Diameter: 51mm\\
			Position encoder: 30 pulses per revolution\\
			Position encoder resolution: 5.44 mm\\\\}
		%\subsection{}%start with the functionality
	\section{\Huge\textbf{Hardware Manual:}}
	%mention about the upcoming sub section in brief
	\subsection{\huge \textbf{Voltage Regulation on the Daughter Board\\}}
	{The voltage source available on the Firebird is 9.6V. But the TIVA platform works on 3.3V and the servos can operate upto 6V. So there must be 3 different voltage levels on the board. The uC based board has 2 voltage regulators and the plug and play board has 1 voltage regulator. In the uC based board the 9.6 volts is 3.3V to power the microcontroller. In the plug and play board the there is an inbuilt voltage regulator, so it is directly connected connected to 5v, 300mA source. The servo in both the boards has a separate 5V regulator.}
	
	\subsubsection{\Large \textbf{Powering Micro-controller}}
	{The boards have different powering circuits.In the plug and play board is connected to 5V source on Pin 10. In the uC based board the 9.6V source available on Pin 29 is reduced to 3.3V. Refer to the schematic below for further details.\\} 
				
	\includegraphics[width=18cm, height=8cm]{3VPowerSupply}\\\\
				
	\subsubsection{\Large \textbf{Powering Servos}}
	{The servo motors can operate safely up to 6V, beyond this voltage they get damaged. Also, the servos require high current. There is a separate power line for servos taken from Pin 29 and reduced to 5V using the voltage regulator. Refer the schematic for further details.\\ }
		
	\includegraphics[width=18cm, height=8cm]{ServoPowerSupply}\\			
	\subsection{\huge \textbf{Level Converters}}
	{The TIVA platform operates at 3.3V and the Firebird operates at 5V. Directly connecting these pins to the TIVA may be fatal. So to interface these sensors, a level converter is used. A bidirectional MOSFET based level converter used. The level converter is necessary is for input pins. In the boards Level converter is used for interfacing the position encoders of the motors. Refer the schematic for further details.\\ }
		
	\hspace{3.5cm}
	\includegraphics[width=12cm, height=6cm]{Level_Converter}\\
	\begin{tabular}{|c|}
		\hline
		\\
		\textbf{NOTE: If the user wishes to interface extra sensors using the GPIOs provided on the board,} \\ \textbf{then external level converters have to used if the output of the sensor is above 3.3V.}
		\\
		\hline
	\end{tabular}\\\\
	\subsection{\huge \textbf{Sensors}} %problem faced with interfacing them
		\subsubsection{\Large \textbf{3.3V sensors}}
		{The output white line sensors and IR Proximity sensors vary from 0  to 3.3V. Hence these sensors can be interfaced directly with the microcontroller. Refer the table below for pin connections.}
		\subsubsection{\Large \textbf{5V sensors}}
	\subsection{\huge \textbf{Port Expander}}
	\subsection{\huge \textbf{External ADC}}
	\subsection{\huge \textbf{LCD Interfacing}}
	\subsection{\huge \textbf{Serial Communication}}
	\subsection{\huge \textbf{Programing the Controller}}
	\subsection{\huge \textbf{Reset Switch}}
	{The Plug and play board makes use of reset button present on the TIVA launchpad. The uC based has a switch connected to the reset the reset pin 38 of the microcontroller. The schematic is given below.}\\
	
	\hspace{3cm}
	\includegraphics[width=13cm, height=6cm]{Reset_Switch}\\\\
		
	\subsection{\huge \textbf{Pin Functionality}}
	\newpage
	\section{\Huge\textbf{Software Manual:}}
		\subsection{\huge \textbf{Code Composer Studio:}}
			{\large Code Composer Studio is an integrated development environment (IDE) that supports TI's Microcontroller and Embedded Processors portfolio. Code Composer Studio comprises a suite of tools used to develop and debug embedded applications. It includes an optimizing C/C++ compiler, source code editor, project build environment, debugger, profiler, and many other features. The intuitive IDE provides a single user interface taking you through each step of the application development flow. Familiar tools and interfaces allow users to get started faster than ever before. Code Composer Studio combines the advantages of the Eclipse software framework with advanced embedded debug capabilities from TI resulting in a compelling feature-rich development environment for embedded developers. This description is directly taken from the website of Texas Instruments and click to know more	\href{http://www.ti.com/tool/ccstudio}{about CC Studio}}}%Add an image of cc studio.
			\subsubsection{\Large\textbf{Download CC Studio:}}
			{\large At the time of writing this document Version 7 was the latest one. You can check for the latest at \href{http://processors.wiki.ti.com/index.php/Download_CCS}{Download CCS}.(do not download
				any beta versions).There will be two installer files.The web installer will require Internet access until it	completes. If the web installer version is unavailable or you can’t get it to work,
				download, unzip and run the offline version. The offline download will be much larger
				than the installed size of CCS since it includes all the possible supported hardware.}
			\subsubsection{\Large\textbf{Installing C C Studio:}}
				{After the installer has started follow the steps mentioned below:\\
				\begin{enumerate}
					\item Accept the Software License Agreement and click Next.\\
							{\centering
							\includegraphics[width=6cm, height=6cm]{CCSInstall1}}
					\item Select the destination folder and click next.\\
							{\centering
							\includegraphics[width=6cm, height=6cm]{CCSInstall2}}
					\item Select the processors that your CCS installation will support. You
						must select "TM4C12X Arm Cortex M4". You can select other architectures, but the installation time and size will increase.\\{\centering
							\includegraphics[width=6cm, height=6cm]{CCSInstall3}}
					\item Select debug probes and click finish \\
							{\centering
							\includegraphics[width=6cm, height=6cm]{CCSInstall4}}
					\item The installer process	should take 15 - 30 minutes, depending on the speed of your connection. The offline
					installation should take 10 to 15 minutes. When the installation is complete, uncheck the
					“Launch Code Composer Studio v7” checkbox and then click Finish.There are several additional tools that require installation during the CCS install process. Click “Yes” or “OK” to proceed when these appear. \\
					\item Install TivaWare for C Series (Complete). Download and install the latest full version of TivaWare from: \href{http://www.ti.com/tool/sw-tm4c}{TivaWare}. The filename is SW-TM4C-x.x.exe . This
					workshop was built using version 1.1. Your version may be a later one. If at all possible,
					please install TivaWare into the default location.
				\end{enumerate}}
				{\large \textbf{\\You can find additional information at these websites:}\\
				Main page: www.ti.com/launchpad\\
				Tiva C Series TM4C123G LaunchPad:\\ http://www.ti.com/tool/ek-tm4c123gxl\\
				TM4C123GH6PM folder:\\ http://www.ti.com/product/tm4c123gh6pm\\
				BoosterPack webpage: www.ti.com/boosterpack\\
				LaunchPad Wiki:\\ www.ti.com/launchpadwiki\\}	\\	
				{\Large For understanding the launchpad properly and to learn more about Tiva it is strongly recommended to go through the webpage \href{http://processors.wiki.ti.com/index.php/Getting_Started_with_the_TIVA\%E2\%84\%A2_C_Series_TM4C123G_LaunchPad}{TIva Worshops} and download and read the workbook }
			\subsubsection{\Large \textbf{Create a New Project}}
				To create new project follow the steps mentioned:
				\begin{enumerate}
					\item Click File then New and then CCS Projects \\
						\includegraphics[width=6cm, height=2cm]{CreatingNewProject1}
					\item Select Target and connection as shown in the photo. Give a name to your project and save in a location.Click Finish. A main.c file will be open\\
						\includegraphics[width=6.5cm, height=8cm]{CreatingNewProject2}
				\end{enumerate}
			\subsubsection{\Large \textbf{Add Path and Build Variables}}
					{The path and build variables are used for:
					\begin{itemize}
						\item  Path variable – when you ADD (link) a file to your project, you can specify a "relative to" path. The default is PROJECT\_LOC which means that your linked resource (like a .lib	file) will be linked relative to your project directory.
						\item  Build variable – used for items such as the search path for include files associated with a library – i.e. it is used when you build your project.
				\end{itemize}
					Variables can either have a PROJECT scope (that they only work for this project) or a
					WORKSPACE scope (that they work across all projects in the workspace).
					In the next step, we need to add (link) a library file and then add a search path for include files.
					First, we’ll add these variables MANUALLY as WORKSPACE variables so that any project in your
					workspace can use the variables. Refer to the workbook by TI for adding as PROJECT}
				\paragraph{\Large \textbf{Adding a Path Variable}\\}
					To add a path variable,:
					\begin{itemize}
						\item Right-click on your Window Tab and select Preference.\\
							\includegraphics[width=3cm, height=4cm]{AddVariables}
						\item Expand General list  in the upper left-hand corner as shown and then expand the Resource list and click on Linked Resources:
						We want to add a New variable to specify exactly where you installed TivaWare.\\
						\includegraphics[height=8cm]{AddVariables2}
						\item Click New
						\item When the New Variable
						dialog appears,
						type TIVAWARE\_INSTALL
						for the name.\\
						\includegraphics{AddVariables3}
						\item For the Location, click
						the Folder… button and
						navigate to your TivaWare
						installation. Click on the
						folder name and then click
						OK.\\
						\includegraphics{AddVariables4}\\
						\includegraphics[width=9cm, height=8cm]{AddVariables5}
						\item Click OK. You should see your new variable listed in the Variables list.\\
						\includegraphics[width=10cm, height=8cm]{AddVariables6}
					\end{itemize}
					\paragraph{\Large \textbf{Adding a Build Variable}\\}
					Now let’s add a build variable that we will use in the include search path for the INCLUDE files
					associated with the TivaWare driver libraries.
					\begin{itemize}
						\item Click on Code Composer Studio Build and then the Variables tab:\\
							\includegraphics[width=7cm, height=8cm]{AddVariables7}\\
						\item Click the Add button. When the Define a New
						Build Variable dialog appears,
						insert TIVAWARE\_INSTALL into the Variables
						name box.\\
						\item Change the Type to Directory and
						browse to your Tivaware installation
						folder.\\
						\includegraphics[width=10cm, height=8cm]{AddVariables8}
						\item  Click OK.
						\item  Click OK again to save and close
						the Build Properties window.\\
						\includegraphics[width=20cm,height=10cm]{AddVariables9}
					\end{itemize}
		\subsection{\huge \textbf{driver.lib}}
		\subsection{\huge \textbf{Buzzer}}
		{
			Located in the folder “Buzzer\_Beep” folder in the documentation.
			In this example, we will load buzzer beep code in Tiva based Fire Bird V. Now we will see in
			detail the structure of this code.This experiment demonstrates the simple operation of Buzzer ON/OFF with one some delay.
			Buzzer is connected to PORTF 4 pin of the Tiva Launchpad. If you have uC based board then it is connected to PORTA 2.
			Concepts covered: Output operation, generating delay
			Note: Make sure that you have included  driver.lib
			// Buzzer is connected at PF4/PA2 on Tiva launchPad/uC
			// To turn it on make PF4/PA2 pin logic 1
			
		}
		\subsection{\huge \textbf{Programming the Robot}}
		\subsection{\huge \textbf{Using Debugger of The Programmer}}
		\subsection{\huge \textbf{Simple I/O Operation}}
		\subsection{\huge \textbf{Robot Direction Control}}
		\subsection{\huge \textbf{Robot Position Control Using Interrupts}}
		\subsection{\huge \textbf{Timers and its Interrupts}}
		\subsection{\huge \textbf{Robot Speed Control}}
		\subsection{\huge \textbf{LCD Interfacing}}
		\subsection{\huge \textbf{Analog To Digital Converter}}
		\subsection{\huge \textbf{Serial Communication}}
		\subsection{\huge \textbf{I2C Communication}}
\end{document}